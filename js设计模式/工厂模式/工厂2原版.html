<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

</body>
<script>
    function Carshop() { };
    Carshop.prototype = {
        constructor: Carshop,
        sellCar: function (type) {
            // var car;
            // switch (type) {
            //     case 'Benc': car = new Benc(); break;
            //     case 'Baom': car = new Baom(); break;
            //     case 'Aodi': car = new Aodi(); break;
            //     default: 'not buy it';
            // }
            // var car=carFactory.createCar(type);
            this.abstractSellCar(type);

        },
        abstractSellCar: function () {
            throw new Error('this method is abstract...');
        }
    }
    // 奔驰
    function BencCarshop() { }
    // BencCarshop.prototype = new Carshop();
    BencCarshop.prototype = {
        constructor: BencCarshop,
        sellCar: function (type) {
            var car;//声明一个你要买的车
            var types = ['Benc'];
            for (t in types) {
                if (types[t] === type) {
                    car = carFactory.createCar(type);
                } else {
                    console.log('meiyou');

                }
            }
            // var car = carFactory.createCar(type);
            return car;
        }

    }
    // 宝马
    function BmwCarshop() { }
    // BmwCarshop.prototype = new Carshop();
    BmwCarshop.prototype = {
        constructor: BmwCarshop,
        sellCar: function (type) {
            var car = carFactory.createCar(type);
            return car;
        }

    }

    var carFactory = {
        createCar: function (type) {
            
            var car=eval('new '+type+'()');
           // 相当于var car = new Benc();  但是他是动态的
            // switch (type) {
            //     case 'Benc': car = new Benc(); break;
            //     case 'Baom': car = new Baom(); break;
            //     case 'Aodi': car = new Aodi(); break;
            //     default: 'not buy it';
            return car;
            
        }
    }
    function BaseCar() { };
    BaseCar.prototype = {
        constructor: BaseCar,
        start: function () {
            console.log('start');

        },
        run: function () {
            console.log('run');

        }
    }
    function Benc() { };
    Benc.prototype = new BaseCar();
    Benc.prototype.constructor = Benc;
    Benc.prototype.drive = function () {
        console.log('drive');
    }
    // Benc.prototype.start = function () {
    //     console.log('Benc start');
    // }
    // Benc.prototype.run = function () {
    //     console.log('Benc run');
    // }
    function Baom() { };
    Baom.prototype = new BaseCar();
    Baom.prototype.constructor = Baom;
    Baom.prototype.drive = function () {
        console.log('drive');
    }
    // Baom.prototype.start = function () {
    //     console.log('Baom start');
    // }
    // Baom.prototype.run = function () {
    //     console.log('Baom run');
    // }
    function Aodi() { };
    Aodi.prototype = new BaseCar();
    Aodi.prototype.constructor = Aodi;
    Aodi.prototype.drive = function () {
        console.log('drive');
    }
    // Aodi.prototype.start = function () {
    //     console.log('Aodi start');
    // }
    // Aodi.prototype.run = function () {
    //     console.log('Aodic run');
    // }
    var shop1 = new BencCarshop();
    var car1 = shop1.sellCar('Benc');
    car1.run();
    var shop2 = new BwmCarshop();
    var car2 = shop2.sellCar('Baom');
    car2.run();

    // var shop = new Carshop();
    // var car = shop.sellCar('Benc');
    // car.start();
    // car.run();
    // car.drive();


    // function Staff(name, money) {
    //     this.id = '';
    //     this.name = name;
    //     this.money = money;
    // }
    // Staff.prototype.mon = function () {
    //     console.log('完成一次工作');

    // }
    // function Cook(name, money) {
    //     Staff.call(this, name, money);
    // }
    // Cook.prototype=new Staff();
    // Cook.prototype.constructer=Cook;
    // Cook.prototype.working = function () {//这里food传的是一个对象
    //     console.log('cook的工作');

    // }
    // var cook = new Cook();
    // console.log(cook.mon());


</script>

</html>